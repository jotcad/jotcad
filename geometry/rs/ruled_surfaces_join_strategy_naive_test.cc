#include "ruled_surfaces_join_strategy_naive.h"

#include <algorithm>
#include <cassert>
#include <iostream>
#include <random>

#include "ruled_surfaces_objective_min_area.h"
#include "ruled_surfaces_sa_stopping_rules.h"
#include "ruled_surfaces_strategy_linear_slg.h"
#include "ruled_surfaces_strategy_seam_search_sa.h"
#include "ruled_surfaces_test_utils.h"

namespace geometry {
namespace test {

// Verified
void NaiveJoinStrategyWithMultipleLoops() {
  std::cout << "Starting NaiveJoinStrategyWithMultipleLoops..." << std::endl;
  auto [p_chains, q_chains] = test::generate_multiple_loops(5, 20, 1.0, 0);
  Mesh mesh;
  MultiSurfaceStats stats;
  assert((NaiveJoinStrategy<
             SeamSearchSA<LinearSearchSlg<MinArea>, ConvergenceStoppingRule>>::
              generate(p_chains, q_chains, MinArea(), 1000, &stats, &mesh)) ==
         SolutionStats::OK);
  assert(stats.pairings.size() == 5);
  assert(!mesh.is_empty());
  std::cout << "OBJ String for NaiveJoinStrategyWithMultipleLoops:\n"
            << test::GetMeshAsObjString(mesh) << std::endl;
  assert(test::GetMeshAsObjString(mesh) == R"(
v 1.035795 0.034427 0.009284
v 0.988438 0.012356 1.034725
v 0.943815 0.355916 0.997767
v 0.923083 0.280371 -0.020247
v 0.772880 0.647821 -0.010722
v 0.834856 0.601037 1.014817
v 0.564836 0.839214 1.030091
v 0.544309 0.874175 -0.035965
v 0.249223 0.977602 0.022063
v 0.242846 0.929991 1.025862
v -0.117612 0.978999 0.963522
v -0.110924 1.020276 -0.031367
v -0.361436 0.904422 -0.027768
v -0.361461 0.927080 0.994995
v -0.652213 0.721539 0.967091
v -0.661968 0.782705 -0.040072
v -0.925631 0.458452 0.010783
v -0.864195 0.521842 1.013427
v -0.974010 0.162064 0.991437
v -0.978176 0.214125 0.013506
v -1.004641 -0.147119 -0.016199
v -0.970109 -0.119637 1.027835
v -0.878511 -0.438128 1.047194
v -0.862108 -0.463663 -0.048643
v -0.691337 -0.687765 0.994171
v -0.725283 -0.740608 -0.044429
v -0.363648 -0.896907 -0.001911
v -0.395177 -0.944091 1.041824
v -0.040907 -0.995688 0.036510
v -0.104807 -1.038273 1.042116
v 0.235268 -0.992927 1.034139
v 0.260203 -0.935166 -0.049064
v 0.533929 -0.870672 0.005282
v 0.567322 -0.830205 0.964644
v 0.814751 -0.620884 -0.021152
v 0.803033 -0.574609 0.989610
v 0.940737 -0.306694 0.039155
v 0.972520 -0.363079 1.047857
v 3.918871 0.328020 0.015967
v 4.008847 0.046542 0.981322
v 3.943304 0.336580 0.989487
v 3.826986 0.639130 0.988346
v 3.767940 0.635820 -0.002987
v 3.593844 0.790529 1.005182
v 3.532353 0.796404 -0.039714
v 3.221520 1.017804 0.959726
v 3.209612 0.941527 -0.017900
v 2.877378 0.991377 0.003702
v 2.951535 0.993509 0.985231
v 2.634798 0.943678 0.966685
v 2.599136 0.869529 0.040465
v 2.314726 0.723053 1.048257
v 2.276041 0.699721 -0.008860
v 2.164939 0.502439 0.973074
v 2.072189 0.462497 -0.044941
v 2.012594 0.148535 0.025000
v 1.980737 0.132544 0.983899
v 2.058051 -0.127137 -0.003655
v 2.042003 -0.154929 1.010825
v 2.140436 -0.520910 0.000003
v 2.138435 -0.499221 1.049240
v 2.294963 -0.764485 1.005424
v 2.369167 -0.710639 0.036428
v 2.556834 -0.897719 1.047024
v 2.593515 -0.908816 -0.028125
v 2.921671 -0.984819 1.047640
v 2.955521 -0.997801 -0.044358
v 3.243345 -0.945017 0.035461
v 3.266955 -0.958696 1.017708
v 3.585107 -0.864245 0.963722
v 3.587590 -0.841565 -0.003050
v 3.771609 -0.599634 0.040442
v 3.770327 -0.664207 1.001971
v 3.974691 -0.326359 0.995613
v 3.963805 -0.286166 -0.007455
v 3.974980 0.017544 -0.008818
v 6.981369 0.038030 -0.027056
v 7.021158 -0.002825 1.045745
v 6.976575 0.293345 0.971488
v 6.960444 0.347744 -0.034631
v 6.766830 0.631697 0.024708
v 6.785456 0.634660 0.967491
v 6.513444 0.807653 0.034043
v 6.499993 0.859375 0.962483
v 6.217231 0.928660 0.024699
v 6.200047 0.992570 1.024925
v 5.868345 1.002149 0.956304
v 5.935147 0.975276 -0.029084
v 5.618654 0.964206 0.033304
v 5.606349 0.917013 0.968163
v 5.294559 0.746371 0.028754
v 5.321945 0.773611 0.995517
v 5.089960 0.510402 0.999814
v 5.141381 0.474563 0.021556
v 5.049870 0.212020 0.027333
v 5.038996 0.213098 1.028043
v 5.003752 -0.184810 0.992822
v 5.004688 -0.187647 -0.049595
v 5.111138 -0.427877 -0.037934
v 5.149414 -0.491587 1.006921
v 5.312668 -0.749797 -0.008863
v 5.365340 -0.708202 0.980183
v 5.549699 -0.870486 -0.017469
v 5.636591 -0.935315 1.003347
v 5.948463 -0.978843 -0.024938
v 5.950381 -0.971371 0.993215
v 6.221099 -1.009745 -0.012097
v 6.244279 -0.971753 1.009194
v 6.541150 -0.834707 -0.004149
v 6.579635 -0.843823 1.035263
v 6.807276 -0.579485 0.970659
v 6.805144 -0.655575 0.000934
v 6.896786 -0.367714 -0.032163
v 6.973736 -0.361353 1.039205
v 9.999082 0.021518 0.042516
v 9.998841 0.038271 0.996950
v 9.911804 0.330342 1.028365
v 9.943346 0.292111 -0.008543
v 9.755128 0.578914 0.982568
v 9.793063 0.629159 -0.035617
v 9.506174 0.845059 -0.037059
v 9.576986 0.795464 1.041054
v 9.238116 0.928746 0.037713
v 9.267110 0.977420 0.997322
v 8.890707 0.977413 0.950977
v 8.944117 1.019724 -0.047293
v 8.604086 0.961145 0.000343
v 8.634607 0.927941 0.959747
v 8.367648 0.749085 0.959446
v 8.281219 0.784967 -0.034237
v 8.143296 0.470685 0.043675
v 8.082503 0.456646 1.024224
v 8.031666 0.168222 1.034536
v 8.016824 0.153772 -0.005612
v 7.987356 -0.205941 0.955597
v 7.972841 -0.204747 0.010918
v 8.121834 -0.473710 0.033951
v 8.073773 -0.471488 1.014983
v 8.297184 -0.687560 0.999102
v 8.310341 -0.708615 0.008015
v 8.612307 -0.885071 1.033152
v 8.579311 -0.961207 -0.012568
v 8.905494 -0.978227 0.957045
v 8.947604 -1.015309 -0.013190
v 9.280879 -0.926712 0.013393
v 9.277741 -0.976617 0.999768
v 9.570816 -0.847413 0.986316
v 9.593838 -0.842452 0.023823
v 9.828848 -0.594499 0.988176
v 9.764864 -0.570484 -0.005092
v 9.931628 -0.285547 0.998951
v 9.918644 -0.350545 -0.037894
v 12.961382 0.041673 -0.011476
v 12.987424 -0.036718 1.013113
v 12.984413 0.304324 1.000393
v 12.975371 0.342711 -0.017560
v 12.791105 0.619065 0.970152
v 12.794677 0.638052 -0.014813
v 12.567855 0.857958 0.963185
v 12.511831 0.789628 -0.015122
v 12.240237 0.986591 0.011175
v 12.205489 0.957233 1.019608
v 11.869351 0.953828 0.046026
v 11.893291 0.961432 1.047957
v 11.550854 0.962781 0.977301
v 11.645880 0.923765 -0.028447
v 11.300496 0.756585 0.038804
v 11.335282 0.688376 1.039486
v 11.159450 0.458941 1.040148
v 11.087384 0.522660 -0.017046
v 11.052925 0.209065 1.003009
v 11.002321 0.165657 0.001245
v 11.049269 -0.199768 0.977268
v 11.018475 -0.150692 0.017711
v 11.106641 -0.470141 0.952453
v 11.116548 -0.495983 0.013506
v 11.315269 -0.770361 0.000271
v 11.369605 -0.784873 1.040617
v 11.587191 -0.893359 1.003907
v 11.577282 -0.955832 0.019089
v 11.934149 -0.955105 1.033382
v 11.964629 -1.001099 -0.027292
v 12.249731 -0.927447 0.952910
v 12.260345 -0.950891 -0.005933
v 12.577615 -0.848856 0.049114
v 12.550860 -0.804484 0.996101
v 12.801310 -0.609748 0.990442
v 12.771971 -0.576202 0.038726
v 12.900115 -0.345988 1.018070
v 12.907909 -0.320487 -0.012064
f 1 2 3
f 1 3 4
f 4 3 5
f 5 3 6
f 5 6 7
f 5 7 8
f 8 7 9
f 9 7 10
f 9 10 11
f 9 11 12
f 12 11 13
f 13 11 14
f 13 14 15
f 13 15 16
f 16 15 17
f 17 15 18
f 17 18 19
f 17 19 20
f 20 19 21
f 21 19 22
f 21 22 23
f 21 23 24
f 24 23 25
f 24 25 26
f 26 25 27
f 27 25 28
f 27 28 29
f 29 28 30
f 29 30 31
f 29 31 32
f 32 31 33
f 33 31 34
f 33 34 35
f 35 34 36
f 35 36 37
f 37 36 38
f 37 38 2
f 37 2 1
f 39 40 41
f 39 41 42
f 39 42 43
f 43 42 44
f 43 44 45
f 45 44 46
f 45 46 47
f 47 46 48
f 48 46 49
f 48 49 50
f 48 50 51
f 51 50 52
f 51 52 53
f 53 52 54
f 53 54 55
f 55 54 56
f 56 54 57
f 56 57 58
f 58 57 59
f 58 59 60
f 60 59 61
f 60 61 62
f 60 62 63
f 63 62 64
f 63 64 65
f 65 64 66
f 65 66 67
f 67 66 68
f 68 66 69
f 68 69 70
f 68 70 71
f 71 70 72
f 72 70 73
f 72 73 74
f 72 74 75
f 75 74 40
f 75 40 76
f 76 40 39
f 77 78 79
f 77 79 80
f 80 79 81
f 81 79 82
f 81 82 83
f 83 82 84
f 83 84 85
f 85 84 86
f 85 86 87
f 85 87 88
f 88 87 89
f 89 87 90
f 89 90 91
f 91 90 92
f 91 92 93
f 91 93 94
f 94 93 95
f 95 93 96
f 95 96 97
f 95 97 98
f 98 97 99
f 99 97 100
f 99 100 101
f 101 100 102
f 101 102 103
f 103 102 104
f 103 104 105
f 105 104 106
f 105 106 107
f 107 106 108
f 107 108 109
f 109 108 110
f 109 110 111
f 109 111 112
f 112 111 113
f 113 111 114
f 113 114 77
f 77 114 78
f 115 116 117
f 115 117 118
f 118 117 119
f 118 119 120
f 120 119 121
f 121 119 122
f 121 122 123
f 123 122 124
f 123 124 125
f 123 125 126
f 126 125 127
f 127 125 128
f 127 128 129
f 127 129 130
f 130 129 131
f 131 129 132
f 131 132 133
f 131 133 134
f 134 133 135
f 134 135 136
f 136 135 137
f 137 135 138
f 137 138 139
f 137 139 140
f 140 139 141
f 140 141 142
f 142 141 143
f 142 143 144
f 144 143 145
f 145 143 146
f 145 146 147
f 145 147 148
f 148 147 149
f 148 149 150
f 150 149 151
f 150 151 152
f 152 151 115
f 115 151 116
f 153 154 155
f 153 155 156
f 156 155 157
f 156 157 158
f 158 157 159
f 158 159 160
f 160 159 161
f 161 159 162
f 161 162 163
f 163 162 164
f 163 164 165
f 163 165 166
f 166 165 167
f 167 165 168
f 167 168 169
f 167 169 170
f 170 169 171
f 170 171 172
f 172 171 173
f 172 173 174
f 174 173 175
f 174 175 176
f 176 175 177
f 177 175 178
f 177 178 179
f 177 179 180
f 180 179 181
f 180 181 182
f 182 181 183
f 182 183 184
f 184 183 185
f 185 183 186
f 185 186 187
f 185 187 188
f 188 187 189
f 188 189 190
f 190 189 154
f 190 154 153
)");
  std::cout << "Finished NaiveJoinStrategyWithMultipleLoops." << std::endl;
}

// Verified
void NaiveJoinStrategyWithNestedLoops() {
  std::cout << "Starting NaiveJoinStrategyWithNestedLoops..." << std::endl;
  PolygonalChain p0 = test::generate_irregular_loop(40, 2.0, {0.1}, {5}, {0},
                                                    0.0, {0.05}, {3}, {0});
  PolygonalChain q0 = test::generate_irregular_loop(40, 2.0, {0.1}, {5}, {0},
                                                    1.0, {0.05}, {3}, {0});
  PolygonalChain p1 = test::generate_irregular_loop(30, 1.0, {0.1}, {4}, {0.2},
                                                    0.0, {0.05}, {2}, {0.5});
  PolygonalChain q1 = test::generate_irregular_loop(30, 1.0, {0.1}, {4}, {0.2},
                                                    1.0, {0.05}, {2}, {0.5});
  PolygonalChain p2_base = test::generate_irregular_loop(
      20, 1.0, {0.1}, {3}, {0.4}, 0.0, {0.05}, {4}, {0.3});
  PolygonalChain q2_base = test::generate_irregular_loop(
      20, 1.0, {0.1}, {3}, {0.4}, 1.0, {0.05}, {4}, {0.3});
  PolygonalChain p2, q2;
  for (const auto& p : p2_base)
    p2.push_back(PointCgal(p.x() + 5, p.y(), p.z()));
  for (const auto& p : q2_base)
    q2.push_back(PointCgal(p.x() + 5, p.y(), p.z()));

  std::vector<PolygonalChain> p_chains = {p0, p1, p2};
  std::vector<PolygonalChain> q_chains = {q0, q1, q2};

  std::mt19937 rng(0);
  std::shuffle(q_chains.begin(), q_chains.end(), rng);

  Mesh mesh;
  MultiSurfaceStats stats;
  assert((NaiveJoinStrategy<
             SeamSearchSA<LinearSearchSlg<MinArea>, ConvergenceStoppingRule>>::
              generate(p_chains, q_chains, MinArea(), 1000, &stats, &mesh)) ==
         SolutionStats::OK);
  assert(stats.pairings.size() == 3);
  assert(!mesh.is_empty());
  std::cout << "OBJ String for NaiveJoinStrategyWithNestedLoops:\n"
            << test::GetMeshAsObjString(mesh) << std::endl;
  assert(test::GetMeshAsObjString(mesh) == R"(
v 2.000000 0.000000 0.000000
v 2.000000 0.000000 1.000000
v 2.045287 0.332391 1.023236
v 2.045287 0.332391 0.023236
v 1.991850 0.664977 1.041149
v 1.991850 0.664977 0.041149
v 1.829629 0.960263 1.049635
v 1.829629 0.960263 0.049635
v 1.592453 1.196651 1.046751
v 1.592453 1.196651 0.046751
v 1.331790 1.386540 1.033156
v 1.331790 1.386540 0.033156
v 1.079737 1.564269 1.011966
v 1.079737 1.564269 0.011966
v 0.831632 1.752627 0.988034
v 0.831632 1.752627 -0.011966
v 0.560898 1.936444 0.966844
v 0.560898 1.936444 -0.033156
v 0.250993 2.067116 0.953249
v 0.250993 2.067116 -0.046751
v -0.084477 2.096278 0.950365
v -0.084477 2.096278 -0.049635
v -0.410742 2.011948 0.958851
v -0.410742 2.011948 -0.041149
v -0.700724 1.847656 0.976764
v -0.700724 1.847656 -0.023236
v -0.956699 1.657051 1.000000
v -0.956699 1.657051 -0.000000
v -1.204143 1.474808 1.023236
v -1.204143 1.474808 0.023236
v -1.462236 1.295428 1.041149
v -1.462236 1.295428 0.041149
v -1.717145 1.085856 1.049635
v -1.717145 1.085856 0.049635
v -1.923074 0.819345 1.046751
v -1.923074 0.819345 0.046751
v -2.032668 0.501008 1.033156
v -2.032668 0.501008 0.033156
v -2.032584 0.164087 1.011966
v -2.032584 0.164087 0.011966
v -1.954445 -0.157779 0.988034
v -1.954445 -0.157779 -0.011966
v -1.851099 -0.456255 0.966844
v -1.851099 -0.456255 -0.033156
v -1.756843 -0.748521 0.953249
v -1.756843 -0.748521 -0.046751
v -1.663616 -1.052007 0.950365
v -1.663616 -1.052007 -0.049635
v -1.531807 -1.357062 0.958851
v -1.531807 -1.357062 -0.041149
v -1.325638 -1.623612 0.976764
v -1.325638 -1.623612 -0.023236
v -1.043301 -1.807051 1.000000
v -1.043301 -1.807051 -0.000000
v -0.717696 -1.892409 1.023236
v -0.717696 -1.892409 0.023236
v -0.389361 -1.907215 1.041149
v -0.389361 -1.907215 0.041149
v -0.076587 -1.900478 1.049635
v -0.076587 -1.900478 0.049635
v 0.231153 -1.903719 1.046751
v 0.231153 -1.903719 0.046751
v 0.551972 -1.905628 1.033156
v 0.551972 -1.905628 0.033156
v 0.883138 -1.861175 1.011966
v 0.883138 -1.861175 0.011966
v 1.192522 -1.727666 0.988034
v 1.192522 -1.727666 -0.011966
v 1.439107 -1.498270 0.966844
v 1.439107 -1.498270 -0.033156
v 1.605318 -1.206318 0.953249
v 1.605318 -1.206318 -0.046751
v 1.712195 -0.898629 0.950365
v 1.712195 -0.898629 -0.049635
v 1.802296 -0.601695 0.958851
v 1.802296 -0.601695 -0.041149
v 1.902914 -0.309254 0.976764
v 1.902914 -0.309254 -0.023236
v 1.062132 0.233793 0.040180
v 1.019867 0.000000 1.023971
v 1.062132 0.233793 1.040180
v 0.992435 0.459149 0.048962
v 0.992435 0.459149 1.048962
v 0.822766 0.625450 1.048693
v 0.822766 0.625450 0.048693
v 0.614939 0.723962 0.039423
v 0.614939 0.723962 1.039423
v 0.422317 0.796575 1.022866
v 0.422317 0.796575 0.022866
v 0.246853 0.889083 1.002082
v 0.246853 0.889083 0.002082
v 0.054049 0.996870 0.980913
v 0.054049 0.996870 -0.019087
v -0.173936 1.060964 0.963273
v -0.173936 1.060964 -0.036727
v -0.406759 1.020888 0.952421
v -0.406759 1.020888 -0.047579
v -0.590916 0.871537 0.950365
v -0.590916 0.871537 -0.049635
v -0.703964 0.666830 0.957483
v -0.703964 0.666830 -0.042517
v -0.777797 0.467985 0.972461
v -0.777797 0.467985 -0.027539
v -0.863199 0.290846 0.992529
v -0.863199 0.290846 -0.007471
v -0.971152 0.105619 1.013978
v -0.971152 0.105619 0.013978
v -1.052974 -0.114518 1.032844
v -1.052974 -0.114518 0.032844
v -1.042181 -0.351152 1.045638
v -1.042181 -0.351152 0.045638
v -0.916811 -0.551627 1.049996
v -0.916811 -0.551627 0.049996
v -0.719350 -0.681404 1.045113
v -0.719350 -0.681404 0.045113
v -0.515269 -0.759965 1.031890
v -0.515269 -0.759965 0.031890
v -0.334313 -0.839064 1.012773
v -0.334313 -0.839064 0.012773
v -0.154745 -0.943904 0.991294
v -0.154745 -0.943904 -0.008706
v 0.056330 -1.038945 0.971425
v 0.056330 -1.038945 -0.028575
v 0.293183 -1.055950 0.956838
v 0.293183 -1.055950 -0.043162
v 0.507611 -0.957455 0.950229
v 0.507611 -0.957455 -0.049771
v 0.655457 -0.771664 0.952821
v 0.655457 -0.771664 -0.047179
v 0.742316 -0.564294 0.964133
v 0.742316 -0.564294 -0.035867
v 0.816882 -0.377930 0.982076
v 0.816882 -0.377930 -0.017924
v 0.916231 -0.201678 1.003331
v 0.916231 -0.201678 0.003331
v 1.019867 0.000000 0.023971
v 6.038942 0.000000 0.014776
v 6.038942 0.000000 1.014776
v 6.038893 0.356652 1.049932
v 6.038893 0.356652 0.049932
v 5.843359 0.656413 1.009739
v 5.843359 0.656413 0.009739
v 5.534231 0.817702 0.954849
v 5.534231 0.817702 -0.045151
v 5.222376 0.878142 0.968093
v 5.222376 0.878142 -0.031907
v 4.924005 0.917129 1.029485
v 4.924005 0.917129 0.029485
v 4.595523 0.922115 1.046383
v 4.595523 0.922115 0.046383
v 4.263590 0.799955 0.993288
v 4.263590 0.799955 -0.006712
v 4.042626 0.518105 0.950321
v 4.042626 0.518105 -0.049679
v 4.004180 0.166173 0.982321
v 4.004180 0.166173 -0.017679
v 4.090660 -0.151742 1.040999
v 4.090660 -0.151742 0.040999
v 4.204083 -0.430729 1.037808
v 4.204083 -0.430729 0.037808
v 4.340221 -0.716711 0.977563
v 4.340221 -0.716711 -0.022437
v 4.571496 -0.976891 0.951176
v 4.571496 -0.976891 -0.048824
v 4.909258 -1.095094 0.998466
v 4.909258 -1.095094 -0.001534
v 5.255646 -1.009524 1.048070
v 5.255646 -1.009524 0.048070
v 5.517648 -0.792319 1.025136
v 5.517648 -0.792319 0.025136
v 5.710234 -0.552797 0.964270
v 5.710234 -0.552797 -0.035730
v 5.893032 -0.306578 0.957322
v 5.893032 -0.306578 -0.042678
f 1 2 3
f 1 3 4
f 4 3 5
f 4 5 6
f 6 5 7
f 6 7 8
f 8 7 9
f 8 9 10
f 10 9 11
f 10 11 12
f 12 11 13
f 12 13 14
f 14 13 15
f 14 15 16
f 16 15 17
f 16 17 18
f 18 17 19
f 18 19 20
f 20 19 21
f 20 21 22
f 22 21 23
f 22 23 24
f 24 23 25
f 24 25 26
f 26 25 27
f 26 27 28
f 28 27 29
f 28 29 30
f 30 29 31
f 30 31 32
f 32 31 33
f 32 33 34
f 34 33 35
f 34 35 36
f 36 35 37
f 36 37 38
f 38 37 39
f 38 39 40
f 40 39 41
f 40 41 42
f 42 41 43
f 42 43 44
f 44 43 45
f 44 45 46
f 46 45 47
f 46 47 48
f 48 47 49
f 48 49 50
f 50 49 51
f 50 51 52
f 52 51 53
f 52 53 54
f 54 53 55
f 54 55 56
f 56 55 57
f 56 57 58
f 58 57 59
f 58 59 60
f 60 59 61
f 60 61 62
f 62 61 63
f 62 63 64
f 64 63 65
f 64 65 66
f 66 65 67
f 66 67 68
f 68 67 69
f 68 69 70
f 70 69 71
f 70 71 72
f 72 71 73
f 72 73 74
f 74 73 75
f 74 75 76
f 76 75 77
f 76 77 78
f 78 77 2
f 78 2 1
f 79 80 81
f 79 81 82
f 82 81 83
f 82 83 84
f 82 84 85
f 85 84 86
f 86 84 87
f 86 87 88
f 86 88 89
f 89 88 90
f 89 90 91
f 91 90 92
f 91 92 93
f 93 92 94
f 93 94 95
f 95 94 96
f 95 96 97
f 97 96 98
f 97 98 99
f 99 98 100
f 99 100 101
f 101 100 102
f 101 102 103
f 103 102 104
f 103 104 105
f 105 104 106
f 105 106 107
f 107 106 108
f 107 108 109
f 109 108 110
f 109 110 111
f 111 110 112
f 111 112 113
f 113 112 114
f 113 114 115
f 115 114 116
f 115 116 117
f 117 116 118
f 117 118 119
f 119 118 120
f 119 120 121
f 121 120 122
f 121 122 123
f 123 122 124
f 123 124 125
f 125 124 126
f 125 126 127
f 127 126 128
f 127 128 129
f 129 128 130
f 129 130 131
f 131 130 132
f 131 132 133
f 133 132 134
f 133 134 135
f 135 134 80
f 135 80 136
f 136 80 79
f 137 138 139
f 137 139 140
f 140 139 141
f 140 141 142
f 142 141 143
f 142 143 144
f 144 143 145
f 144 145 146
f 146 145 147
f 146 147 148
f 148 147 149
f 148 149 150
f 150 149 151
f 150 151 152
f 152 151 153
f 152 153 154
f 154 153 155
f 154 155 156
f 156 155 157
f 156 157 158
f 158 157 159
f 158 159 160
f 160 159 161
f 160 161 162
f 162 161 163
f 162 163 164
f 164 163 165
f 164 165 166
f 166 165 167
f 166 167 168
f 168 167 169
f 168 169 170
f 170 169 171
f 170 171 172
f 172 171 173
f 172 173 174
f 174 173 138
f 174 138 137
)");
  std::cout << "Finished NaiveJoinStrategyWithNestedLoops." << std::endl;
}

}  // namespace test
}  // namespace geometry

int main(int argc, char** argv) {
  std::cout << "Starting test execution..." << std::endl;
  geometry::test::NaiveJoinStrategyWithMultipleLoops();
  geometry::test::NaiveJoinStrategyWithNestedLoops();
  std::cout << "Finished test execution." << std::endl;
  return 0;
}
